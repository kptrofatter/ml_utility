%==============================================================================%
% RandNormal                                                                   %
%                                                                              %
%                                                                              %
%==============================================================================%

function [r]=RandNormal(m,n)
    % Defaults
    if nargin() == 0
        % 0 arg => R^3 vector
        m = 3;
        n = 1;
    elseif nargin() == 1
        % 1 arg => Number of R^3 vectors
        n = m;
        m = 3;
    end

    % Roll
    r = rand(m,n);
    a = sum(r.^2);
    z = nnz(a == 0.0);
    
    % Reroll zeros
    while z
        r(:,a == 0.0) = rand(m,z);
        a = sum(r.^2);
        z = nnz(a == 0.0);
    end
    
    % Normalize
    r=r./repmat(sqrt(a),[m,1]);
end

%==============================================================================%
%                                                                              %
%                                                                              %
%                                                                              %
%==============================================================================%
